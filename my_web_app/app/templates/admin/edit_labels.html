{% extends "base.html" %}

{% block title %}
    {% if label %}{{ get_label('edit_label') }}{% else %}{{ get_label('add_new_label') }}{% endif %}
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-header">
                    <h3 class="mb-0">
                        {% if label %}
                            {{ get_label('edit_label') }}: <code>{{ label.key }}</code>
                        {% else %}
                            {{ get_label('add_new_label') }}
                        {% endif %}
                    </h3>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <!-- Key field -->
                        <div class="form-group mb-3">
                            <label for="key" class="form-label">{{ get_label('key') }} <span class="text-danger">*</span></label>
                            <input type="text" 
                                   class="form-control" 
                                   id="key" 
                                   name="key" 
                                   value="{{ label.key if label else '' }}" 
                                   required
                                   {% if label %}readonly{% endif %}>
                            <small class="form-text text-muted">
                                {{ get_label('key_description') }}
                            </small>
                        </div>

                        <div class="accordion" id="translationAccordion">
                            <!-- English (Required) -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingEn">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEn">
                                        ðŸ‡ºðŸ‡¸ {{ get_label('english') }} <span class="text-danger">*</span>
                                    </button>
                                </h2>
                                <div id="collapseEn" class="accordion-collapse collapse show" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="en" 
                                                  rows="3" 
                                                  required 
                                                  placeholder="{{ get_label('enter_english_translation') }}">{{ label.en if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Arabic -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingAr">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAr">
                                        ðŸ‡¸ðŸ‡¦ {{ get_label('arabic') }}
                                    </button>
                                </h2>
                                <div id="collapseAr" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="ar" 
                                                  rows="3" 
                                                  dir="rtl" 
                                                  placeholder="{{ get_label('enter_arabic_translation') }}">{{ label.ar if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Russian -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingRu">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRu">
                                        ðŸ‡·ðŸ‡º {{ get_label('russian') }}
                                    </button>
                                </h2>
                                <div id="collapseRu" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="ru" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_russian_translation') }}">{{ label.ru if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Chinese -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingZh">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseZh">
                                        ðŸ‡¨ðŸ‡³ {{ get_label('chinese') }}
                                    </button>
                                </h2>
                                <div id="collapseZh" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="zh" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_chinese_translation') }}">{{ label.zh if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Spanish -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingEs">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEs">
                                        ðŸ‡ªðŸ‡¸ {{ get_label('spanish') }}
                                    </button>
                                </h2>
                                <div id="collapseEs" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="es" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_spanish_translation') }}">{{ label.es if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Tajik -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTg">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTg">
                                        ðŸ‡¹ðŸ‡¯ {{ get_label('tajik') }}
                                    </button>
                                </h2>
                                <div id="collapseTg" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="tg" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_tajik_translation') }}">{{ label.tg if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Farsi/Persian -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFa">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFa">
                                        ðŸ‡®ðŸ‡· {{ get_label('farsi') }}
                                    </button>
                                </h2>
                                <div id="collapseFa" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="fa" 
                                                  rows="3" 
                                                  dir="rtl" 
                                                  placeholder="{{ get_label('enter_farsi_translation') }}">{{ label.fa if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Kazakh -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingKk">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseKk">
                                        ðŸ‡°ðŸ‡¿ {{ get_label('kazakh') }}
                                    </button>
                                </h2>
                                <div id="collapseKk" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="kk" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_kazakh_translation') }}">{{ label.kk if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Azerbaijani -->
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingAz">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAz">
                                        ðŸ‡¦ðŸ‡¿ {{ get_label('azerbaijani') }}
                                    </button>
                                </h2>
                                <div id="collapseAz" class="accordion-collapse collapse" data-bs-parent="#translationAccordion">
                                    <div class="accordion-body">
                                        <textarea class="form-control" 
                                                  name="az" 
                                                  rows="3" 
                                                  placeholder="{{ get_label('enter_azerbaijani_translation') }}">{{ label.az if label else '' }}</textarea>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 d-flex justify-content-between">
                            <a href="{{ url_for('admin_labels') }}" class="btn btn-secondary">
                                <i class="fas fa-arrow-left"></i> {{ get_label('back') }}
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> {{ get_label('save') }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}